(()=>{var e={};e.id=7702,e.ids=[7702],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},36802:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>o}),t(40111),t(82959),t(60281);var a=t(65239),r=t(93006),i=t(8751),n=t.n(i),l=t(86747),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let o=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,40111)),"/workspace/app/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,82959)),"/workspace/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,60281,23)),"next/dist/client/components/not-found-error"]}],c=["/workspace/app/dashboard/page.tsx"],m="/dashboard/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},6697:(e,s,t)=>{Promise.resolve().then(t.bind(t,5477))},5477:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var a=t(51582),r=t(61751),i=t(18950),n=t(6151),l=t(27365),d=t(28214),o=t(52187),c=t(51366);function m({title:e,value:s,growth:t,icon:r,iconBgColor:i}){let n=t>0,m=t<0;return a.jsx(l.Zb,{className:"relative overflow-hidden",children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),a.jsx("p",{className:"text-2xl font-bold mt-2",children:s}),(0,a.jsxs)("div",{className:"flex items-center mt-2 text-sm",children:[n&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(d.Z,{className:"h-4 w-4 text-green-600 mr-1"}),(0,a.jsxs)("span",{className:"text-green-600",children:["+",t,"%"]})]}),m&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(o.Z,{className:"h-4 w-4 text-red-600 mr-1"}),(0,a.jsxs)("span",{className:"text-red-600",children:[t,"%"]})]}),0===t&&a.jsx("span",{className:"text-gray-500",children:"0%"}),a.jsx("span",{className:"text-muted-foreground ml-1",children:"vs kemarin"})]})]}),a.jsx("div",{className:(0,c.cn)("p-3 rounded-full",i),children:r})]})})})}var x=t(56897);function h(){let[e,s]=(0,r.useState)([]),[t,i]=(0,r.useState)(!0);return t?(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{children:"Transaksi Terakhir"})}),a.jsx(l.aY,{children:a.jsx("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg animate-pulse",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-32 mb-1"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-1"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]},s))})})]}):(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{children:"Transaksi Terakhir"})}),a.jsx(l.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[e.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium",children:e.code}),a.jsx(x.C,{variant:"secondary",className:"bg-green-100 text-green-800",children:"completed"===e.status?"Completed":e.status})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.customer_name}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.items?.length||0," items"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium",children:(0,c.xG)(e.total)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:(0,c.mr)(new Date(e.created_at))})]})]},e.id)),0===e.length&&a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:a.jsx("p",{children:"Belum ada transaksi hari ini"})})]})})]})}var u=t(41471);function p(){let[e,s]=(0,r.useState)([]),[t,i]=(0,r.useState)(!0);return(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between",children:[a.jsx(l.ll,{children:"Stok Menipis"}),a.jsx(u.Z,{className:"h-5 w-5 text-orange-500"})]}),a.jsx(l.aY,{children:a.jsx("div",{className:"space-y-4",children:t?[void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-red-50 animate-pulse",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded w-16 mb-1"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-12"})]})]},s)):(0,a.jsxs)(a.Fragment,{children:[e.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-red-50",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:e.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.category})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)(x.C,{variant:"destructive",className:"mb-1",children:["Stok: ",e.stock]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Min: ",e.min_stock]})]})]},e.id)),0===e.length&&a.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Tidak ada produk dengan stok menipis"})]})})})]})}var g=t(60303),j=t(26302),f=t(58875),v=t(3372);function b(){let{user:e,isLoading:s}=(0,i.a)();(0,v.useRouter)();let[t,l]=(0,r.useState)(null),[o,x]=(0,r.useState)(!0);return s?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Memuat..."})]})}):e?a.jsx(n.c,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:o?[void 0,void 0,void 0,void 0].map((e,s)=>a.jsx("div",{className:"bg-white p-6 rounded-lg border animate-pulse",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"}),a.jsx("div",{className:"h-8 bg-gray-200 rounded w-24"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"})]}),a.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-full"})]})},s)):t?(0,a.jsxs)(a.Fragment,{children:[a.jsx(m,{title:"Total Penjualan Hari Ini",value:(0,c.xG)(t.totalSales),growth:t.salesGrowth,icon:a.jsx(g.Z,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-green-500"}),a.jsx(m,{title:"Produk Terjual",value:t.productsSold.toLocaleString("id-ID"),growth:t.productsGrowth,icon:a.jsx(j.Z,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-blue-500"}),a.jsx(m,{title:"Stok Tersedia",value:t.availableStock.toLocaleString("id-ID"),growth:t.stockGrowth,icon:a.jsx(f.Z,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-purple-500"}),a.jsx(m,{title:"Transaksi Hari Ini",value:t.todayTransactions.toLocaleString("id-ID"),growth:t.transactionsGrowth,icon:a.jsx(d.Z,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-orange-500"})]}):a.jsx("div",{className:"col-span-4 text-center py-8 text-muted-foreground",children:a.jsx("p",{children:"Gagal memuat statistik dashboard"})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(h,{}),a.jsx(p,{})]})]})}):null}},6151:(e,s,t)=>{"use strict";t.d(s,{c:()=>D});var a=t(51582),r=t(51366),i=t(18950),n=t(3191),l=t(3437),d=t(82322),o=t(26302),c=t(40105),m=t(58875),x=t(59897),h=t(56733),u=t(93213),p=t(33877),g=t(7388),j=t(26612),f=t(57598),v=t(3372),b=t(62711),N=t(61751),w=t(49728),y=t(47202);function k({...e}){return a.jsx(w.fC,{"data-slot":"sheet",...e})}function Z({...e}){return a.jsx(w.xz,{"data-slot":"sheet-trigger",...e})}function _({...e}){return a.jsx(w.h_,{"data-slot":"sheet-portal",...e})}function C({className:e,...s}){return a.jsx(w.aV,{"data-slot":"sheet-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function S({className:e,children:s,side:t="right",...i}){return(0,a.jsxs)(_,{children:[a.jsx(C,{}),(0,a.jsxs)(w.VY,{"data-slot":"sheet-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===t&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===t&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===t&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===t&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...i,children:[s,(0,a.jsxs)(w.x8,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[a.jsx(y.Z,{className:"size-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function P(){let[e,s]=N.useState(void 0);return N.useEffect(()=>{let e=window.matchMedia("(max-width: 767px)"),t=()=>{s(window.innerWidth<768)};return e.addEventListener("change",t),s(window.innerWidth<768),()=>e.removeEventListener("change",t)},[]),!!e}let z=[{name:"Dashboard",href:"/dashboard",icon:d.Z,roles:["super_admin","admin","kasir"]},{name:"Point of Sale",href:"/pos",icon:o.Z,roles:["super_admin","admin","kasir"]},{name:"History Orders",href:"/orders",icon:c.Z,roles:["super_admin","admin","kasir"]},{name:"Inventory",href:"/inventory",icon:m.Z,roles:["super_admin","admin"]},{name:"Stock Adjustment",href:"/inventory/stock-adjustment",icon:x.Z,roles:["super_admin","admin"]},{name:"Reports",href:"/reports",icon:h.Z,roles:["super_admin","admin"]},{name:"Users",href:"/users",icon:u.Z,roles:["super_admin"]},{name:"Settings",href:"/settings",icon:p.Z,roles:["super_admin"]}];function T({onItemClick:e}){let{user:s,logout:t}=(0,i.a)(),{settings:d}=(0,l.r)(),o=(0,v.usePathname)(),c=z.filter(e=>s&&e.roles.includes(s.role));return(0,a.jsxs)("div",{className:"flex h-full w-full flex-col text-white",style:{backgroundColor:`var(--primary-color, ${d.primaryColor})`},children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 p-6 border-b",style:{borderColor:`var(--secondary-color, ${d.secondaryColor})`},children:[a.jsx("div",{className:"bg-white p-2 rounded-lg",children:d.logo?a.jsx("img",{src:d.logo||"/placeholder.svg",alt:"Store logo",className:"h-6 w-6 object-contain"}):a.jsx(g.Z,{className:"h-6 w-6",style:{color:`var(--primary-color, ${d.primaryColor})`}})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"font-bold text-lg",children:d.storeName}),a.jsx("p",{className:"text-blue-200 text-sm",children:d.storeSubtitle})]})]}),a.jsx("nav",{className:"flex-1 p-4",children:a.jsx("ul",{className:"space-y-2",children:c.map(s=>{let t=o===s.href;return a.jsx("li",{children:a.jsx(b.default,{href:s.href,onClick:e,children:(0,a.jsxs)(n.z,{variant:t?"secondary":"ghost",className:(0,r.cn)("w-full justify-start gap-3 text-left",t?"text-white hover:opacity-90":"text-blue-100 hover:text-white hover:opacity-80"),style:t?{backgroundColor:`var(--secondary-color, ${d.secondaryColor})`}:{},children:[a.jsx(s.icon,{className:"h-5 w-5"}),s.name]})})},s.name)})})}),(0,a.jsxs)("div",{className:"p-4 border-t",style:{borderColor:`var(--secondary-color, ${d.secondaryColor})`},children:[(0,a.jsxs)("div",{className:"mb-3",children:[a.jsx("p",{className:"font-medium text-sm",children:s?.name}),a.jsx("p",{className:"text-blue-200 text-xs capitalize",children:s?.role.replace("_"," ")})]}),(0,a.jsxs)(n.z,{variant:"ghost",onClick:t,className:"w-full justify-start gap-3 text-blue-100 hover:text-white hover:opacity-80",children:[a.jsx(j.Z,{className:"h-4 w-4"}),"Keluar"]})]})]})}function G(){let e=P(),[s,t]=(0,N.useState)(!1);return e?(0,a.jsxs)(k,{open:s,onOpenChange:t,children:[a.jsx(Z,{asChild:!0,children:a.jsx(n.z,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50 md:hidden bg-white shadow-md",children:a.jsx(f.Z,{className:"h-5 w-5"})})}),a.jsx(S,{side:"left",className:"p-0 w-64",children:a.jsx(T,{onItemClick:()=>t(!1)})})]}):a.jsx("div",{className:"w-64",children:a.jsx(T,{})})}var q=t(57541),M=t(79718);function D({children:e,title:s}){let{user:t}=(0,i.a)(),l=P();return(0,a.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[!l&&a.jsx(G,{}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-200 px-3 md:px-6 py-3 md:py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:(0,r.cn)("",l&&"ml-10 md:ml-12"),children:[a.jsx("h1",{className:"text-lg md:text-xl lg:text-2xl font-bold text-gray-900 truncate",children:s||`Selamat Datang, ${t?.name}!`}),a.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:(0,r.p6)(new Date)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 md:gap-2 lg:gap-4",children:[(0,a.jsxs)(n.z,{variant:"ghost",size:"icon",className:"relative h-8 w-8 md:h-10 md:w-10",children:[a.jsx(q.Z,{className:"h-3 w-3 md:h-4 md:w-4 lg:h-5 lg:w-5"}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 md:-top-1 md:-right-1 bg-red-500 text-white text-[8px] md:text-[10px] lg:text-xs rounded-full h-3 w-3 md:h-4 md:w-4 lg:h-5 lg:w-5 flex items-center justify-center",children:"3"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 md:gap-2 lg:gap-3",children:[a.jsx("div",{className:"bg-blue-600 p-1 md:p-1.5 lg:p-2 rounded-full",children:a.jsx(M.Z,{className:"h-3 w-3 md:h-4 md:w-4 lg:h-5 lg:w-5 text-white"})}),(0,a.jsxs)("div",{className:"text-right hidden sm:block",children:[a.jsx("p",{className:"font-medium text-xs md:text-sm truncate max-w-20 md:max-w-none",children:t?.name}),a.jsx("p",{className:"text-[10px] md:text-xs text-gray-600 capitalize",children:t?.role.replace("_"," ")})]})]})]})]})}),a.jsx("main",{className:"flex-1 overflow-auto p-3 md:p-4 lg:p-6",children:e}),l&&a.jsx(G,{})]})]})}},56897:(e,s,t)=>{"use strict";t.d(s,{C:()=>d});var a=t(51582);t(61751);var r=t(89549),i=t(95451),n=t(51366);let l=(0,i.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:s,asChild:t=!1,...i}){let d=t?r.g7:"span";return a.jsx(d,{"data-slot":"badge",className:(0,n.cn)(l({variant:s}),e),...i})}},60303:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(75475).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},52187:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(75475).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},28214:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(75475).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},41471:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(75475).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},40111:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(29682).createProxy)(String.raw`/workspace/app/dashboard/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[6325,7985,5958,7927],()=>t(36802));module.exports=a})();