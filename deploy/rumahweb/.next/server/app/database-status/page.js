(()=>{var e={};e.id=6089,e.ids=[6089],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},92173:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>o,routeModule:()=>m,tree:()=>c}),a(22015),a(82959),a(60281);var t=a(65239),r=a(93006),i=a(8751),n=a.n(i),l=a(86747),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);a.d(s,d);let c=["",{children:["database-status",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,22015)),"/workspace/app/database-status/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,82959)),"/workspace/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,60281,23)),"next/dist/client/components/not-found-error"]}],o=["/workspace/app/database-status/page.tsx"],u="/database-status/page",x={require:a,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/database-status/page",pathname:"/database-status",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},34311:(e,s,a)=>{Promise.resolve().then(a.bind(a,25911))},25911:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(51582),r=a(61751),i=a(27365),n=a(3191),l=a(56897),d=a(82546),c=a(22905);function o(){let[e,s]=(0,r.useState)(null),[a,o]=(0,r.useState)(null),[u,x]=(0,r.useState)(!1),[m,h]=(0,r.useState)(!1),g=async()=>{x(!0);try{let e=await fetch("/api/test-connection"),a=await e.json();s(a)}catch(e){s({success:!1,message:"Gagal menghubungi API test koneksi",config:{host:"",port:0,database:"",user:"",ssl:!1},timestamp:new Date().toISOString()})}x(!1)},p=async()=>{h(!0);try{let e=await fetch("/api/migrate",{method:"POST"}),s=await e.json();o(s),s.success&&await g()}catch(e){o({success:!1,migrations:[]})}h(!1)};return(0,t.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Status Database"}),t.jsx("p",{className:"text-muted-foreground",children:"Monitor koneksi database dan status migration"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(n.z,{onClick:g,disabled:u,children:u?"Testing...":"Test Koneksi"}),t.jsx(n.z,{onClick:p,disabled:m,variant:"outline",children:m?"Migrating...":"Jalankan Migration"})]})]}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)(i.ll,{className:"flex items-center gap-2",children:["Status Koneksi Database",e&&t.jsx(l.C,{variant:e.success?"default":"destructive",children:e.success?"Terhubung":"Gagal"})]}),t.jsx(i.SZ,{children:"Informasi koneksi ke database MySQL"})]}),t.jsx(i.aY,{className:"space-y-4",children:e?(0,t.jsxs)(t.Fragment,{children:[t.jsx(d.bZ,{variant:e.success?"default":"destructive",children:t.jsx(d.X,{children:e.message})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"font-medium",children:"Host:"}),t.jsx("span",{className:"font-mono",children:e.config.host})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"font-medium",children:"Port:"}),t.jsx("span",{className:"font-mono",children:e.config.port})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"font-medium",children:"Database:"}),t.jsx("span",{className:"font-mono",children:e.config.database})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"font-medium",children:"User:"}),t.jsx("span",{className:"font-mono",children:e.config.user})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"font-medium",children:"SSL:"}),t.jsx(l.C,{variant:e.config.ssl?"default":"secondary",children:e.config.ssl?"Aktif":"Tidak Aktif"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"font-medium",children:"Waktu Test:"}),t.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(e.timestamp).toLocaleString("id-ID")})]})]})]}):t.jsx("div",{className:"text-center py-4",children:t.jsx("p",{className:"text-muted-foreground",children:'Klik "Test Koneksi" untuk memulai'})})})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)(i.ll,{className:"flex items-center gap-2",children:["Status Migration Database",a&&t.jsx(l.C,{variant:a.success?"default":"destructive",children:a.success?"Berhasil":"Gagal"})]}),t.jsx(i.SZ,{children:"Daftar migration yang sudah dijalankan"})]}),t.jsx(i.aY,{children:a?t.jsx("div",{className:"space-y-4",children:a.success?(0,t.jsxs)(t.Fragment,{children:[t.jsx(d.bZ,{children:(0,t.jsxs)(d.X,{children:[a.migrations.length," migration berhasil dijalankan"]})}),t.jsx("div",{className:"space-y-2",children:a.migrations.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-medium",children:["Migration #",e.id]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:e.name})]}),(0,t.jsxs)("div",{className:"text-right",children:[t.jsx(l.C,{variant:"outline",children:"Selesai"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(e.executed_at).toLocaleString("id-ID")})]})]},e.id))})]}):t.jsx(d.bZ,{variant:"destructive",children:t.jsx(d.X,{children:"Migration gagal dijalankan. Periksa koneksi database."})})}):t.jsx("div",{className:"text-center py-4",children:t.jsx("p",{className:"text-muted-foreground",children:"Loading status migration..."})})})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[t.jsx(i.ll,{children:"Panduan Setup Database"}),t.jsx(i.SZ,{children:"Ikuti langkah-langkah berikut jika koneksi database gagal"})]}),(0,t.jsxs)(i.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"1. MySQL Lokal"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Install MySQL di komputer Anda untuk development"}),(0,t.jsxs)("ul",{className:"text-sm space-y-1",children:[t.jsx("li",{children:"• Performa sangat cepat"}),t.jsx("li",{children:"• Tidak perlu internet"}),t.jsx("li",{children:"• Full control"})]})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"2. Railway (Cloud)"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Database cloud gratis dengan performa tinggi"}),(0,t.jsxs)("ul",{className:"text-sm space-y-1",children:[t.jsx("li",{children:"• 500 jam gratis/bulan"}),t.jsx("li",{children:"• SSL otomatis"}),t.jsx("li",{children:"• Backup otomatis"})]})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"3. PlanetScale"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Database serverless dengan branching seperti Git"}),(0,t.jsxs)("ul",{className:"text-sm space-y-1",children:[t.jsx("li",{children:"• 1GB storage gratis"}),t.jsx("li",{children:"• Serverless scaling"}),t.jsx("li",{children:"• Zero-downtime schema"})]})]})]}),t.jsx(c.Z,{}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[t.jsx("p",{className:"font-medium mb-2",children:"File konfigurasi yang perlu diedit:"}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsxs)("li",{children:["• ",t.jsx("code",{className:"bg-muted px-1 rounded",children:".env.local"})," - Konfigurasi database"]}),(0,t.jsxs)("li",{children:["• Lihat folder ",t.jsx("code",{className:"bg-muted px-1 rounded",children:"scripts/"})," untuk panduan lengkap"]})]})]})]})]})]})}},82546:(e,s,a)=>{"use strict";a.d(s,{X:()=>d,bZ:()=>l});var t=a(51582);a(61751);var r=a(95451),i=a(51366);let n=(0,r.j)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function l({className:e,variant:s,...a}){return t.jsx("div",{"data-slot":"alert",role:"alert",className:(0,i.cn)(n({variant:s}),e),...a})}function d({className:e,...s}){return t.jsx("div",{"data-slot":"alert-description",className:(0,i.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...s})}},56897:(e,s,a)=>{"use strict";a.d(s,{C:()=>d});var t=a(51582);a(61751);var r=a(89549),i=a(95451),n=a(51366);let l=(0,i.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:s,asChild:a=!1,...i}){let d=a?r.g7:"span";return t.jsx(d,{"data-slot":"badge",className:(0,n.cn)(l({variant:s}),e),...i})}},22905:(e,s,a)=>{"use strict";a.d(s,{Z:()=>o});var t=a(51582),r=a(61751),i=a(70118),n="horizontal",l=["horizontal","vertical"],d=r.forwardRef((e,s)=>{let{decorative:a,orientation:r=n,...d}=e,c=l.includes(r)?r:n;return(0,t.jsx)(i.WV.div,{"data-orientation":c,...a?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...d,ref:s})});d.displayName="Separator";var c=a(51366);function o({className:e,orientation:s="horizontal",decorative:a=!0,...r}){return t.jsx(d,{"data-slot":"separator",decorative:a,orientation:s,className:(0,c.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}},22015:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(29682).createProxy)(String.raw`/workspace/app/database-status/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[6325,7985,7927],()=>a(92173));module.exports=t})();