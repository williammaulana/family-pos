(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[268],{71973:function(e,t,s){Promise.resolve().then(s.bind(s,57878))},57878:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return U}});var a=s(76287),n=s(99334),i=s(6124),r=s(15184),l=s(42370),c=s(30139),o=s(15046),d=s(88448),u=s(99499),m=s(10520),x=s(10483),h=s(21616),p=s(46712),f=s(38126),j=s(3145),g=s(25378),v=s(73004);function k(e){let{onEditProduct:t,onDeleteProduct:s,onAdjustStock:i,onViewProduct:r,refreshTrigger:l}=e,[k,y]=(0,n.useState)(""),[b,N]=(0,n.useState)("Semua"),[w,S]=(0,n.useState)([]),[C,P]=(0,n.useState)(["Semua"]),[Z,T]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{try{let[e,t]=await Promise.all([fetch("/api/products"),fetch("/api/categories")]),[s,a]=await Promise.all([e.json(),t.json()]);S(s.data||[]);let n=["Semua",...(a.data||[]).map(e=>e.name)];P(n)}catch(e){console.error("Error fetching products and categories:",e)}finally{T(!1)}})()},[l]);let _=w.filter(e=>{var t;let s=e.name.toLowerCase().includes(k.toLowerCase())||(null===(t=e.barcode)||void 0===t?void 0:t.includes(k))||e.category.toLowerCase().includes(k.toLowerCase()),a="Semua"===b||e.category===b;return s&&a}),I=e=>0===e.stock?{label:"Habis",variant:"destructive"}:e.stock<=e.min_stock?{label:"Menipis",variant:"secondary"}:{label:"Tersedia",variant:"default"};return Z?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,a.jsx)(d.I,{placeholder:"Memuat produk...",disabled:!0,className:"pl-10"})]}),(0,a.jsx)("div",{className:"w-32 h-10 bg-gray-200 rounded animate-pulse"})]}),(0,a.jsx)("div",{className:"border rounded-lg",children:(0,a.jsxs)(c.iA,{children:[(0,a.jsx)(c.xD,{children:(0,a.jsxs)(c.SC,{children:[(0,a.jsx)(c.ss,{children:"Produk"}),(0,a.jsx)(c.ss,{children:"Kategori"}),(0,a.jsx)(c.ss,{children:"Harga Jual"}),(0,a.jsx)(c.ss,{children:"Harga Modal"}),(0,a.jsx)(c.ss,{children:"Stok"}),(0,a.jsx)(c.ss,{children:"Status"}),(0,a.jsx)(c.ss,{children:"Barcode"}),(0,a.jsx)(c.ss,{className:"text-right",children:"Aksi"})]})}),(0,a.jsx)(c.RM,{children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)(c.SC,{children:[(0,a.jsx)(c.pj,{children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32 animate-pulse"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-20 animate-pulse"})]})}),(0,a.jsx)(c.pj,{children:(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20 animate-pulse"})}),(0,a.jsx)(c.pj,{children:(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24 animate-pulse"})}),(0,a.jsx)(c.pj,{children:(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24 animate-pulse"})}),(0,a.jsx)(c.pj,{children:(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-16 animate-pulse"})}),(0,a.jsx)(c.pj,{children:(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-16 animate-pulse"})}),(0,a.jsx)(c.pj,{children:(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20 animate-pulse"})}),(0,a.jsx)(c.pj,{children:(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-24 animate-pulse ml-auto"})})]},t))})]})})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,a.jsx)(d.I,{placeholder:"Cari produk, kategori, atau barcode...",value:k,onChange:e=>y(e.target.value),className:"pl-10"})]}),(0,a.jsx)("select",{value:b,onChange:e=>N(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md bg-white",children:C.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsx)("div",{className:"border rounded-lg",children:(0,a.jsxs)(c.iA,{children:[(0,a.jsx)(c.xD,{children:(0,a.jsxs)(c.SC,{children:[(0,a.jsx)(c.ss,{children:"Produk"}),(0,a.jsx)(c.ss,{children:"Kategori"}),(0,a.jsx)(c.ss,{children:"Harga Jual"}),(0,a.jsx)(c.ss,{children:"Harga Modal"}),(0,a.jsx)(c.ss,{children:"Stok"}),(0,a.jsx)(c.ss,{children:"Status"}),(0,a.jsx)(c.ss,{children:"Barcode"}),(0,a.jsx)(c.ss,{className:"text-right",children:"Aksi"})]})}),(0,a.jsx)(c.RM,{children:_.map(e=>{var n,l;let d=I(e),x=null!==(n=e.costPrice)&&void 0!==n?n:e.cost_price;return(0,a.jsxs)(c.SC,{children:[(0,a.jsx)(c.pj,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.unit?"".concat(e.unit):""," ",e.barcode?"â€¢ ".concat(e.barcode):""]})]})}),(0,a.jsx)(c.pj,{children:e.category}),(0,a.jsx)(c.pj,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:(0,v.xG)(e.price)}),null!=x&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Profit: ",(0,v.xG)(e.price-Number(x))]})]})}),(0,a.jsx)(c.pj,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:(0,v.xG)(e.costPrice||0)}),e.costPrice&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Margin: ",e.price>0?Math.round((e.price-e.costPrice)/e.price*100):0,"%"]})]})}),(0,a.jsx)(c.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium",children:e.stock}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:["/ min ",null!==(l=e.min_stock)&&void 0!==l?l:e.minStock]})]})}),(0,a.jsx)(c.pj,{children:(0,a.jsx)(u.C,{variant:d.variant,children:d.label})}),(0,a.jsx)(c.pj,{children:(0,a.jsx)("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:e.barcode||"-"})}),(0,a.jsx)(c.pj,{className:"text-right",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 justify-end",children:[(0,a.jsx)(o.z,{variant:"outline",size:"sm",onClick:()=>i(e.id,-1),disabled:0===e.stock,children:(0,a.jsx)(h.Z,{className:"h-4 w-4"})}),(0,a.jsx)(o.z,{variant:"outline",size:"sm",onClick:()=>i(e.id,1),children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})}),(0,a.jsxs)(m.h_,{children:[(0,a.jsx)(m.$F,{asChild:!0,children:(0,a.jsx)(o.z,{variant:"ghost",size:"sm",children:(0,a.jsx)(f.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)(m.AW,{align:"end",children:[r&&(0,a.jsx)(m.Xi,{onClick:()=>r(e),children:"Detail"}),(0,a.jsxs)(m.Xi,{onClick:()=>t(e),children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,a.jsxs)(m.Xi,{onClick:()=>s(e.id),className:"text-red-600",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Hapus"]})]})]})]})})]},e.id)})})]})}),0===_.length&&!Z&&(0,a.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:(0,a.jsx)("p",{children:"Tidak ada produk ditemukan"})})]})}var y=s(91979);function b(e){let{className:t,...s}=e;return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,v.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...s})}var N=s(86297),w=s(30634);let S=["Makanan","Minuman","Kebersihan","Elektronik","Pakaian","Lainnya"],C=["pcs","dus","liter","kg","gram","meter","cm","buah","bungkus","botol","kaleng","paket"];function P(e){let{product:t,isOpen:s,onClose:i,onSave:r,isLoading:l}=e,[c,u]=(0,n.useState)({name:"",category:"",price:"",costPrice:"",stock:"",minStock:"",barcode:"",unit:"",description:""});(0,n.useEffect)(()=>{if(t){var e,s,a,n,i,r,l,c,o,d,m,x;u({name:t.name||"",category:null!==(e=t.category)&&void 0!==e?e:"",price:String(null!==(a=null!==(s=t.price)&&void 0!==s?s:t.price)&&void 0!==a?a:""),costPrice:void 0!==t.cost_price&&null!==t.cost_price?String(t.cost_price):void 0!==t.costPrice&&null!==t.costPrice?String(t.costPrice):"",stock:String(null!==(i=null!==(n=t.stock)&&void 0!==n?n:t.stock)&&void 0!==i?i:""),minStock:String(null!==(l=null!==(r=t.minStock)&&void 0!==r?r:t.min_stock)&&void 0!==l?l:""),barcode:null!==(o=null!==(c=t.barcode)&&void 0!==c?c:t.barcode)&&void 0!==o?o:"",unit:null!==(m=null!==(d=t.unit)&&void 0!==d?d:t.unit)&&void 0!==m?m:"",description:null!==(x=t.description)&&void 0!==x?x:""})}else u({name:"",category:"",price:"",costPrice:"",stock:"",minStock:"",barcode:"",unit:"",description:""})},[t]);let m=(e,t)=>{u(s=>({...s,[e]:t}))};return(0,a.jsx)(N.Vq,{open:s,onOpenChange:i,children:(0,a.jsxs)(N.cZ,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(N.fK,{children:[(0,a.jsx)(N.$N,{children:t?"Edit Produk":"Tambah Produk Baru"}),(0,a.jsx)(N.Be,{children:t?"Ubah informasi produk di bawah ini.":"Masukkan informasi produk baru."})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s={name:c.name,category:c.category,price:Number.parseFloat(c.price),costPrice:c.costPrice?Number.parseFloat(c.costPrice):void 0,stock:Number.parseInt(c.stock),minStock:Number.parseInt(c.minStock),barcode:c.barcode||void 0,unit:c.unit||void 0};t&&(s.id=t.id),r(s)},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y._,{htmlFor:"name",children:"Nama Produk *"}),(0,a.jsx)(d.I,{id:"name",value:c.name,onChange:e=>m("name",e.target.value),placeholder:"Masukkan nama produk",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y._,{htmlFor:"category",children:"Kategori *"}),(0,a.jsxs)(w.Ph,{value:c.category,onValueChange:e=>m("category",e),children:[(0,a.jsx)(w.i4,{children:(0,a.jsx)(w.ki,{placeholder:"Pilih kategori"})}),(0,a.jsx)(w.Bw,{children:S.map(e=>(0,a.jsx)(w.Ql,{value:e,children:e},e))})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y._,{htmlFor:"price",children:"Harga Jual *"}),(0,a.jsx)(d.I,{id:"price",type:"number",value:c.price,onChange:e=>m("price",e.target.value),placeholder:"0",min:"0",step:"100",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y._,{htmlFor:"costPrice",children:"Harga Modal"}),(0,a.jsx)(d.I,{id:"costPrice",type:"number",value:c.costPrice,onChange:e=>m("costPrice",e.target.value),placeholder:"0",min:"0",step:"100"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y._,{htmlFor:"unit",children:"Satuan"}),(0,a.jsxs)(w.Ph,{value:c.unit,onValueChange:e=>m("unit",e),children:[(0,a.jsx)(w.i4,{children:(0,a.jsx)(w.ki,{placeholder:"Pilih satuan"})}),(0,a.jsx)(w.Bw,{children:C.map(e=>(0,a.jsx)(w.Ql,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y._,{htmlFor:"barcode",children:"Barcode"}),(0,a.jsx)(d.I,{id:"barcode",value:c.barcode,onChange:e=>m("barcode",e.target.value),placeholder:"Scan atau masukkan barcode"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y._,{htmlFor:"stock",children:"Stok Awal *"}),(0,a.jsx)(d.I,{id:"stock",type:"number",value:c.stock,onChange:e=>m("stock",e.target.value),placeholder:"0",min:"0",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y._,{htmlFor:"minStock",children:"Stok Minimum *"}),(0,a.jsx)(d.I,{id:"minStock",type:"number",value:c.minStock,onChange:e=>m("minStock",e.target.value),placeholder:"0",min:"0",required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y._,{htmlFor:"description",children:"Deskripsi"}),(0,a.jsx)(b,{id:"description",value:c.description,onChange:e=>m("description",e.target.value),placeholder:"Deskripsi produk (opsional)",rows:3})]}),(0,a.jsxs)(N.cN,{children:[(0,a.jsx)(o.z,{type:"button",variant:"outline",onClick:i,children:"Batal"}),(0,a.jsx)(o.z,{type:"submit",disabled:l,children:l?"Menyimpan...":t?"Update":"Simpan"})]})]})]})})}function Z(e){let{isOpen:t,onClose:s,onAdjust:i,productName:r,currentStock:l,isLoading:c}=e,[u,m]=(0,n.useState)("add"),[x,h]=(0,n.useState)(""),[p,f]=(0,n.useState)(""),j="add"===u?l+Number.parseInt(x||"0"):l-Number.parseInt(x||"0");return(0,a.jsx)(N.Vq,{open:t,onOpenChange:s,children:(0,a.jsxs)(N.cZ,{className:"sm:max-w-[400px]",children:[(0,a.jsxs)(N.fK,{children:[(0,a.jsx)(N.$N,{children:"Penyesuaian Stok"}),(0,a.jsxs)(N.Be,{children:["Sesuaikan stok untuk produk: ",(0,a.jsx)("strong",{children:r})]})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i("add"===u?Number.parseInt(x):-Number.parseInt(x),p,u),h(""),f("")},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y._,{children:"Jenis Penyesuaian"}),(0,a.jsxs)(w.Ph,{value:u,onValueChange:m,children:[(0,a.jsx)(w.i4,{children:(0,a.jsx)(w.ki,{})}),(0,a.jsxs)(w.Bw,{children:[(0,a.jsx)(w.Ql,{value:"add",children:"Tambah Stok"}),(0,a.jsx)(w.Ql,{value:"reduce",children:"Kurangi Stok"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y._,{htmlFor:"quantity",children:"Jumlah"}),(0,a.jsx)(d.I,{id:"quantity",type:"number",value:x,onChange:e=>h(e.target.value),placeholder:"0",min:"1",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y._,{htmlFor:"reason",children:"Alasan"}),(0,a.jsx)(b,{id:"reason",value:p,onChange:e=>f(e.target.value),placeholder:"Masukkan alasan penyesuaian stok",rows:3,required:!0})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Stok Saat Ini:"}),(0,a.jsx)("span",{className:"font-medium",children:l})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Penyesuaian:"}),(0,a.jsxs)("span",{className:"add"===u?"text-green-600":"text-red-600",children:["add"===u?"+":"-",x||0]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm font-bold border-t pt-2 mt-2",children:[(0,a.jsx)("span",{children:"Stok Baru:"}),(0,a.jsx)("span",{className:j<0?"text-red-600":"",children:j})]})]}),j<0&&(0,a.jsx)("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:"Peringatan: Stok tidak boleh kurang dari 0"}),(0,a.jsxs)(N.cN,{children:[(0,a.jsx)(o.z,{type:"button",variant:"outline",onClick:s,children:"Batal"}),(0,a.jsx)(o.z,{type:"submit",disabled:c||j<0,children:c?"Memproses...":"Sesuaikan Stok"})]})]})]})})}function T(e){var t,s;let{product:n,isOpen:i,onClose:r}=e,l=n?null!==(t=n.costPrice)&&void 0!==t?t:n.cost_price:void 0,c=n?null!==(s=n.minStock)&&void 0!==s?s:n.min_stock:void 0;return(0,a.jsx)(N.Vq,{open:i,onOpenChange:r,children:(0,a.jsxs)(N.cZ,{className:"sm:max-w-[480px]",children:[(0,a.jsxs)(N.fK,{children:[(0,a.jsx)(N.$N,{children:"Detail Produk"}),(0,a.jsx)(N.Be,{children:"Informasi lengkap produk"})]}),n&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Nama"}),(0,a.jsx)("div",{className:"font-medium",children:n.name})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Kategori"}),(0,a.jsx)("div",{className:"font-medium",children:n.category})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Barcode"}),(0,a.jsx)("div",{className:"font-medium",children:n.barcode||"-"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Harga Jual"}),(0,a.jsx)("div",{className:"font-semibold text-blue-600",children:(0,v.xG)(n.price)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Harga Modal"}),(0,a.jsx)("div",{className:"font-semibold",children:void 0!==l?(0,v.xG)(Number(l)):"-"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Stok"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.C,{variant:"secondary",children:n.stock}),void 0!==c&&(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["/ min ",c]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Satuan"}),(0,a.jsx)("div",{className:"font-medium",children:n.unit||"-"})]})]}),n.description&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Deskripsi"}),(0,a.jsx)("div",{className:"text-sm",children:n.description})]})]})]})})}var _=s(87577),I=s(67539);let M=(0,s(67137).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var E=s(97633),A=s(28162),D=s(40090);function z(e){let{isOpen:t,onClose:s,onImportComplete:i}=e,[r,l]=(0,n.useState)(null),[c,u]=(0,n.useState)(!1),[m,x]=(0,n.useState)(null),[h,p]=(0,n.useState)([]),{toast:f}=(0,D.pm)(),j=async e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!s)return;let a="text/csv"===s.type||s.name.endsWith(".csv"),n=s.name.endsWith(".xlsx")||s.name.endsWith(".xls")||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===s.type;if(a||n){l(s),p([]);try{let e;if(a){let t=new FileReader;t.onload=t=>{var s;let a=null===(s=t.target)||void 0===s?void 0:s.result;e=(0,A.bW)(a),x(e.slice(0,6))},t.readAsText(s)}else e=await (0,A.gY)(s),x(e.slice(0,6))}catch(e){f({title:"Error membaca file",description:"Terjadi kesalahan saat membaca file",variant:"destructive"})}}else f({title:"File tidak valid",description:"Silakan pilih file CSV atau Excel (.xlsx) yang valid",variant:"destructive"})},g=e=>{let t=[],s=e[0],a=["name","sku","category","price","stock","min_stock"].filter(e=>!s.some(t=>t.toLowerCase().includes(e)));a.length>0&&t.push("Missing required columns: ".concat(a.join(", ")));for(let a=1;a<e.length;a++){let n=e[a];n.length!==s.length&&t.push("Row ".concat(a+1,": Column count mismatch"));let i=s.findIndex(e=>e.toLowerCase().includes("price")),r=s.findIndex(e=>e.toLowerCase().includes("stock"));i>=0&&isNaN(Number(n[i]))&&t.push("Row ".concat(a+1,": Invalid price value")),r>=0&&isNaN(Number(n[r]))&&t.push("Row ".concat(a+1,": Invalid stock value"))}return t},v=async()=>{if(r&&m){u(!0);try{let e;if(r.name.endsWith(".csv")){let t=new FileReader;t.onload=async t=>{var s;let a=null===(s=t.target)||void 0===s?void 0:s.result;e=(0,A.bW)(a),await k(e)},t.readAsText(r)}else e=await (0,A.gY)(r),await k(e)}catch(e){f({title:"Import Gagal",description:"Terjadi kesalahan saat mengimpor data",variant:"destructive"}),u(!1)}}},k=async e=>{let t=g(e);if(t.length>0){p(t),u(!1);return}let a=e[0],n=a.findIndex(e=>e.toLowerCase().includes("name")),r=a.findIndex(e=>e.toLowerCase().includes("sku")),c=a.findIndex(e=>e.toLowerCase().includes("category")),o=a.findIndex(e=>e.toLowerCase().includes("price")),d=a.findIndex(e=>e.toLowerCase().includes("stock")),m=a.findIndex(e=>e.toLowerCase().includes("min_stock")),h=0,j=0;for(let t=1;t<e.length;t++){let s=e[t];try{let e={name:s[n],sku:s[r],category:s[c],price:Number(s[o]),stock:Number(s[d]),minStock:Number(s[m])};await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),h++}catch(e){j++,console.error("Error importing row ".concat(t+1,":"),e)}}f({title:"Import Selesai",description:"".concat(h," produk berhasil diimpor, ").concat(j," gagal")}),i(),s(),l(null),x(null),p([]),u(!1)},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"csv",t=[["name","sku","category","price","stock","min_stock"],["Contoh Produk","SKU001","Makanan","15000","100","10"],["Produk Lain","SKU002","Minuman","8000","50","5"]];"excel"===e?(0,A.pq)({headers:t[0],rows:t.slice(1),filename:"template-import-produk"}):(0,A.GS)({headers:t[0],rows:t.slice(1),filename:"template-import-produk"})};return(0,a.jsx)(N.Vq,{open:t,onOpenChange:s,children:(0,a.jsxs)(N.cZ,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(N.fK,{children:(0,a.jsx)(N.$N,{children:"Import Produk"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(y._,{htmlFor:"csv-file",children:"Pilih File"}),(0,a.jsx)(d.I,{id:"csv-file",type:"file",accept:".csv,.xlsx,.xls",onChange:j,className:"mt-1"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"File harus berformat CSV atau Excel dengan kolom: name, sku, category, price, stock, min_stock"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,a.jsxs)(o.z,{variant:"outline",onClick:()=>b("csv"),className:"flex-1 bg-transparent",children:[(0,a.jsx)(I.Z,{className:"h-4 w-4 mr-2"}),"Download Template CSV"]}),(0,a.jsxs)(o.z,{variant:"outline",onClick:()=>b("excel"),className:"flex-1 bg-transparent",children:[(0,a.jsx)(I.Z,{className:"h-4 w-4 mr-2"}),"Download Template Excel"]})]}),h.length>0&&(0,a.jsxs)(_.bZ,{variant:"destructive",children:[(0,a.jsx)(M,{className:"h-4 w-4"}),(0,a.jsx)(_.X,{children:(0,a.jsx)("ul",{className:"list-disc list-inside",children:h.map((e,t)=>(0,a.jsx)("li",{children:e},t))})})]}),m&&(0,a.jsxs)("div",{children:[(0,a.jsx)(y._,{children:"Preview Data (5 baris pertama)"}),(0,a.jsx)("div",{className:"mt-2 border rounded-md overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsx)("tr",{children:m[0].map((e,t)=>(0,a.jsx)("th",{className:"px-3 py-2 text-left font-medium text-xs sm:text-sm",children:e},t))})}),(0,a.jsx)("tbody",{children:m.slice(1).map((e,t)=>(0,a.jsx)("tr",{className:"border-t",children:e.map((e,t)=>(0,a.jsx)("td",{className:"px-3 py-2 text-xs sm:text-sm",children:e},t))},t))})]})})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-2",children:[(0,a.jsx)(o.z,{variant:"outline",onClick:s,className:"order-2 sm:order-1 bg-transparent",children:"Batal"}),(0,a.jsx)(o.z,{onClick:v,disabled:!r||c||h.length>0,className:"order-1 sm:order-2",children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Mengimpor..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.Z,{className:"h-4 w-4 mr-2"}),"Import Data"]})})]})]})]})})}var O=s(25753),F=s(15859),B=s(73730),L=s(71091),q=s(7948);function U(){let{user:e,isLoading:t}=(0,i.a)(),s=(0,r.useRouter)(),{toast:c}=(0,D.pm)(),[d,u]=(0,n.useState)(!1),[x,h]=(0,n.useState)(!1),[f,j]=(0,n.useState)(!1),[g,y]=(0,n.useState)(null),[b,N]=(0,n.useState)(null),[w,S]=(0,n.useState)(!1),[C,_]=(0,n.useState)(!1),[I,M]=(0,n.useState)([]),[U,R]=(0,n.useState)(0),[V,H]=(0,n.useState)(!0);(0,n.useEffect)(()=>{t||e||s.push("/"),!t&&e&&"kasir"===e.role&&(s.push("/dashboard"),c({title:"Akses Ditolak",description:"Anda tidak memiliki akses ke halaman inventory",variant:"destructive"}))},[e,t,s,c]),(0,n.useEffect)(()=>{let t=async()=>{try{let e=await fetch("/api/products"),t=await e.json();M(t.data||[])}catch(e){console.error("Error fetching products:",e)}finally{H(!1)}};e&&"kasir"!==e.role&&t()},[e,U]);let K=async e=>{if(confirm("Apakah Anda yakin ingin menghapus produk ini?")){_(!0);try{await fetch("/api/products?id=".concat(e),{method:"DELETE"}),c({title:"Produk dihapus",description:"Produk berhasil dihapus dari inventory"}),R(e=>e+1)}catch(e){c({title:"Gagal menghapus produk",description:"Terjadi kesalahan saat menghapus produk",variant:"destructive"})}finally{_(!1)}}},G=async(e,t)=>{let s=I.find(t=>t.id===e);s&&(1===t||-1===t?await J(s,t):(y(s),h(!0)))},J=async(e,t)=>{_(!0);try{let s=Math.max(0,e.stock+t);await fetch("/api/products",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,stock:s})}),c({title:"Stok disesuaikan",description:"Stok ".concat(e.name," ").concat(t>0?"ditambah":"dikurangi"," ").concat(Math.abs(t))}),R(e=>e+1)}catch(e){c({title:"Gagal menyesuaikan stok",description:"Terjadi kesalahan saat menyesuaikan stok",variant:"destructive"})}finally{_(!1)}},W=async e=>{_(!0);try{if(g){let t={id:g.id,...e};void 0!==t.minStock&&(t.minStock=Number(t.minStock)),void 0!==t.costPrice&&(t.costPrice=Number(t.costPrice)),await fetch("/api/products",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),c({title:"Produk diperbarui",description:"Informasi produk berhasil diperbarui"})}else{let t={...e};await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),c({title:"Produk ditambahkan",description:"Produk baru berhasil ditambahkan ke inventory"})}u(!1),y(null),R(e=>e+1)}catch(e){c({title:"Gagal menyimpan produk",description:"Terjadi kesalahan saat menyimpan produk",variant:"destructive"})}finally{_(!1)}},X=async(e,t,s)=>{if(g){_(!0);try{var a;let t=(null===(a=I.find(e=>e.id===g.id))||void 0===a?void 0:a.stock)||0;await fetch("/api/products",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:g.id,stock:"add"===s?t+e:Math.max(0,t-e)})}),c({title:"Stok disesuaikan",description:"Stok ".concat(g.name," berhasil ").concat("add"===s?"ditambah":"dikurangi")}),h(!1),y(null),R(e=>e+1)}catch(e){c({title:"Gagal menyesuaikan stok",description:"Terjadi kesalahan saat menyesuaikan stok",variant:"destructive"})}finally{_(!1)}}},Y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"csv";if("json"===e){(0,A.cs)(I,"products-".concat(new Date().toISOString().split("T")[0])),c({title:"Export Berhasil",description:"Data produk berhasil diekspor ke JSON"});return}let t={headers:["Nama Produk","SKU","Kategori","Harga","Stok","Stok Minimum","Status"],rows:I.map(e=>[e.name,e.sku,e.category,e.price,e.stock,e.min_stock,e.stock<=e.min_stock?"Stok Menipis":"Normal"]),filename:"products-".concat(new Date().toISOString().split("T")[0])};"excel"===e?((0,A.pq)(t),c({title:"Export Berhasil",description:"Data produk berhasil diekspor ke Excel"})):((0,A.GS)(t),c({title:"Export Berhasil",description:"Data produk berhasil diekspor ke CSV"}))};if(t)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"Memuat..."})]})});if(!e||"kasir"===e.role)return null;let $=I.length,Q=I.filter(e=>e.stock<=e.min_stock).length,ee=I.filter(e=>0===e.stock).length,et=I.reduce((e,t)=>e+t.price*t.stock,0);return(0,a.jsx)(l.c,{title:"Manajemen Inventory",children:(0,a.jsxs)("div",{className:"space-y-4 md:space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[(0,a.jsxs)(O.Zb,{children:[(0,a.jsxs)(O.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(O.ll,{className:"text-xs md:text-sm font-medium",children:"Total Produk"}),(0,a.jsx)(F.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsx)(O.aY,{children:V?(0,a.jsx)("div",{className:"h-6 md:h-8 bg-gray-200 rounded animate-pulse"}):(0,a.jsx)("div",{className:"text-lg md:text-2xl font-bold",children:$})})]}),(0,a.jsxs)(O.Zb,{children:[(0,a.jsxs)(O.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(O.ll,{className:"text-xs md:text-sm font-medium",children:"Stok Menipis"}),(0,a.jsx)(B.Z,{className:"h-4 w-4 text-orange-500"})]}),(0,a.jsx)(O.aY,{children:V?(0,a.jsx)("div",{className:"h-6 md:h-8 bg-gray-200 rounded animate-pulse"}):(0,a.jsx)("div",{className:"text-lg md:text-2xl font-bold text-orange-600",children:Q})})]}),(0,a.jsxs)(O.Zb,{children:[(0,a.jsxs)(O.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(O.ll,{className:"text-xs md:text-sm font-medium",children:"Stok Habis"}),(0,a.jsx)(B.Z,{className:"h-4 w-4 text-red-500"})]}),(0,a.jsx)(O.aY,{children:V?(0,a.jsx)("div",{className:"h-6 md:h-8 bg-gray-200 rounded animate-pulse"}):(0,a.jsx)("div",{className:"text-lg md:text-2xl font-bold text-red-600",children:ee})})]}),(0,a.jsxs)(O.Zb,{children:[(0,a.jsxs)(O.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(O.ll,{className:"text-xs md:text-sm font-medium",children:"Nilai Inventory"}),(0,a.jsx)(L.Z,{className:"h-4 w-4 text-green-500"})]}),(0,a.jsx)(O.aY,{children:V?(0,a.jsx)("div",{className:"h-6 md:h-8 bg-gray-200 rounded animate-pulse"}):(0,a.jsx)("div",{className:"text-base md:text-2xl font-bold text-green-600",children:(0,v.xG)(et)})})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg md:text-xl font-semibold",children:"Daftar Produk"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Kelola produk dan stok inventory"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row flex-wrap gap-2 w-full sm:w-auto",children:[(0,a.jsxs)(m.h_,{children:[(0,a.jsx)(m.$F,{asChild:!0,children:(0,a.jsxs)(o.z,{variant:"outline",size:"sm",className:"flex items-center gap-2 bg-transparent",children:[(0,a.jsx)(q.Z,{className:"h-4 w-4"}),"Export"]})}),(0,a.jsxs)(m.AW,{align:"end",children:[(0,a.jsx)(m.Xi,{onClick:()=>Y("excel"),children:"Export Excel (.xlsx)"}),(0,a.jsx)(m.Xi,{onClick:()=>Y("csv"),children:"Export CSV"}),(0,a.jsx)(m.Xi,{onClick:()=>Y("json"),children:"Export JSON"})]})]}),(0,a.jsxs)(o.z,{variant:"outline",onClick:()=>j(!0),size:"sm",children:[(0,a.jsx)(E.Z,{className:"h-4 w-4 mr-2"}),"Import"]}),(0,a.jsxs)(o.z,{onClick:()=>u(!0),size:"sm",className:"w-full sm:w-auto",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Tambah Produk"]})]})]}),(0,a.jsx)(k,{onEditProduct:e=>{y(e),u(!0)},onDeleteProduct:K,onAdjustStock:G,onViewProduct:e=>{N(e),S(!0)},refreshTrigger:U}),(0,a.jsx)(P,{product:g,isOpen:d,onClose:()=>{u(!1),y(null)},onSave:W,isLoading:C}),(0,a.jsx)(Z,{isOpen:x,onClose:()=>{h(!1),y(null)},onAdjust:X,productName:(null==g?void 0:g.name)||"",currentStock:(null==g?void 0:g.stock)||0,isLoading:C}),(0,a.jsx)(T,{product:b,isOpen:w,onClose:()=>{S(!1),N(null)}}),(0,a.jsx)(z,{isOpen:f,onClose:()=>j(!1),onImportComplete:()=>{R(e=>e+1),c({title:"Import Berhasil",description:"Produk berhasil diimpor ke inventory"})}})]})})}},87577:function(e,t,s){"use strict";s.d(t,{X:function(){return c},bZ:function(){return l}});var a=s(76287);s(99334);var n=s(15437),i=s(73004);let r=(0,n.j)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...n}=e;return(0,a.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,i.cn)(r({variant:s}),t),...n})}function c(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"alert-description",className:(0,i.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...s})}},86297:function(e,t,s){"use strict";s.d(t,{$N:function(){return x},Be:function(){return h},Vq:function(){return l},cN:function(){return m},cZ:function(){return d},fK:function(){return u}});var a=s(76287);s(99334);var n=s(21007),i=s(95762),r=s(73004);function l(e){let{...t}=e;return(0,a.jsx)(n.fC,{"data-slot":"dialog",...t})}function c(e){let{...t}=e;return(0,a.jsx)(n.h_,{"data-slot":"dialog-portal",...t})}function o(e){let{className:t,...s}=e;return(0,a.jsx)(n.aV,{"data-slot":"dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function d(e){let{className:t,children:s,showCloseButton:l=!0,...d}=e;return(0,a.jsxs)(c,{"data-slot":"dialog-portal",children:[(0,a.jsx)(o,{}),(0,a.jsxs)(n.VY,{"data-slot":"dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...d,children:[s,l&&(0,a.jsxs)(n.x8,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(i.Z,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",t),...s})}function m(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}function x(e){let{className:t,...s}=e;return(0,a.jsx)(n.Dx,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg leading-none font-semibold",t),...s})}function h(e){let{className:t,...s}=e;return(0,a.jsx)(n.dk,{"data-slot":"dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...s})}},88448:function(e,t,s){"use strict";s.d(t,{I:function(){return i}});var a=s(76287);s(99334);var n=s(73004);function i(e){let{className:t,type:s,...i}=e;return(0,a.jsx)("input",{type:s,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...i})}},91979:function(e,t,s){"use strict";s.d(t,{_:function(){return r}});var a=s(76287);s(99334);var n=s(77707),i=s(73004);function r(e){let{className:t,...s}=e;return(0,a.jsx)(n.f,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}},28162:function(e,t,s){"use strict";function a(e){let t=new Blob([[e.headers.join(","),...e.rows.map(e=>e.map(e=>"string"==typeof e&&e.includes(",")?'"'.concat(e.replace(/"/g,'""'),'"'):e).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");if(void 0!==s.download){let a=URL.createObjectURL(t);s.setAttribute("href",a),s.setAttribute("download","".concat(e.filename,".csv")),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}}function n(e,t){let s=new Blob([JSON.stringify(e,null,2)],{type:"application/json;charset=utf-8;"}),a=document.createElement("a");if(void 0!==a.download){let e=URL.createObjectURL(s);a.setAttribute("href",e),a.setAttribute("download","".concat(t,".json")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}}function i(e){let t=e.split("\n"),s=[];for(let e of t)if(e.trim()){let t=[],a="",n=!1;for(let s=0;s<e.length;s++){let i=e[s];'"'===i?n=!n:","!==i||n?a+=i:(t.push(a.trim()),a="")}t.push(a.trim()),s.push(t)}return s}function r(e){let t={SheetNames:["Sheet1"],Sheets:{Sheet1:{}}},s={};e.headers.forEach((e,t)=>{s[String.fromCharCode(65+t)+"1"]={v:e,t:"s"}}),e.rows.forEach((e,t)=>{e.forEach((e,a)=>{s[String.fromCharCode(65+a)+(t+2)]={v:e,t:"number"==typeof e?"n":"s"}})});let a="A1:".concat(String.fromCharCode(65+e.headers.length-1)).concat(e.rows.length+1);s["!ref"]=a,t.Sheets.Sheet1=s;let n=new Blob([function(e){let t=new ArrayBuffer(e.length),s=new Uint8Array(t);for(let t=0;t<e.length;t++)s[t]=255&e.charCodeAt(t);return t}(function(e){let t;let s=new Map;s.set("[Content_Types].xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n<Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>\n<Default Extension="xml" ContentType="application/xml"/>\n<Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>\n<Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>\n</Types>'),s.set("_rels/.rels",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/>\n</Relationships>'),s.set("xl/_rels/workbook.xml.rels",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/>\n</Relationships>'),s.set("xl/workbook.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">\n<sheets><sheet name="Sheet1" sheetId="1" r:id="rId1" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"/></sheets>\n</workbook>');let a=e.Sheets.Sheet1,n="<sheetData>";if(a["!ref"]){let e=c(a["!ref"]);for(let t=e.s.r;t<=e.e.r;t++){n+='<row r="'.concat(t+1,'">');for(let s=e.s.c;s<=e.e.c;s++){let e=d({r:t,c:s}),i=a[e];if(i){let t="n"===i.t?"":' t="inlineStr"',s="n"===i.t?"<v>".concat(i.v,"</v>"):"<is><t>".concat(String(i.v).replace(/[<>&'"]/g,e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return e}}),"</t></is>");n+='<c r="'.concat(e,'"').concat(t,">").concat(s,"</c>")}}n+="</row>"}}return n+="</sheetData>",s.set("xl/worksheets/sheet1.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">\n'.concat(n,"\n</worksheet>")),t="",s.forEach((e,s)=>{t+=e}),t}(t))],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),i=document.createElement("a");if(void 0!==i.download){let t=URL.createObjectURL(n);i.setAttribute("href",t),i.setAttribute("download","".concat(e.filename,".xlsx")),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}function l(e){return new Promise((t,s)=>{let a=new FileReader;a.onload=e=>{try{var a;new Uint8Array(null===(a=e.target)||void 0===a?void 0:a.result);let s={SheetNames:["Sheet1"],Sheets:{Sheet1:{"!ref":"A1:A1",A1:{v:"Sample",t:"s"}}}},n=s.SheetNames[0],i=s.Sheets[n],r=[],l=i["!ref"];if(!l){t([]);return}let o=c(l);for(let e=o.s.r;e<=o.e.r;e++){let t=[];for(let s=o.s.c;s<=o.e.c;s++){let a=i[d({r:e,c:s})];t.push(a?String(a.v):"")}r.push(t)}t(r)}catch(e){s(e)}},a.onerror=()=>s(Error("Failed to read file")),a.readAsArrayBuffer(e)})}function c(e){let t=e.split(":"),s=o(t[0]),a=t[1]?o(t[1]):s;return{s:s,e:a}}function o(e){let t=e.match(/([A-Z]+)(\d+)/);if(!t)return{r:0,c:0};let s=t[1].split("").reduce((e,t)=>26*e+t.charCodeAt(0)-64,0)-1;return{r:Number.parseInt(t[2])-1,c:s}}function d(e){let t="",s=e.c;for(;s>=0;)t=String.fromCharCode(65+s%26)+t,s=Math.floor(s/26)-1;return t+(e.r+1)}s.d(t,{GS:function(){return a},bW:function(){return i},cs:function(){return n},gY:function(){return l},pq:function(){return r}})},7948:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(67137).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},38126:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(67137).Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},21616:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(67137).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},46712:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(67137).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},10483:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(67137).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},3145:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(67137).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},25378:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(67137).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},71091:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(67137).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},73730:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(67137).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},97633:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(67137).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},77707:function(e,t,s){"use strict";s.d(t,{f:function(){return l}});var a=s(99334),n=s(75569),i=s(76287),r=a.forwardRef((e,t)=>(0,i.jsx)(n.WV.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var l=r}},function(e){e.O(0,[734,64,344,434,444,886,68,237,975,731,744],function(){return e(e.s=71973)}),_N_E=e.O()}]);